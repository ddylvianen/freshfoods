{% load static %}
{% load compress %}

<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width min-height=device-height, initial-scale=1.0">
    <title>Fresh foods</title>

    {% compress css%}
        <link rel="stylesheet" href="{% static '/css/algemeen.css' %}">
        <link rel="stylesheet" href="{% static '/css/shopping.css' %}">
    {% endcompress %}
    
    {% compress js %}
        <script src="https://kit.fontawesome.com/03deb1591a.js" crossorigin="anonymous"></script>
        <script src="{% static 'jquery/jquery.js' %}"></script>
        <script src="{% static 'jquery/plugins/jquery.cookie.js' %}"></script>
    {% endcompress %}
</head>
<body>
    <header class="heading">
        <div class="logo-cont">
            <h1 class="logo-text logo-main">Fresh</h1>
            <h2 class="logo-text">foods</h2>
        </div>
        <span></span>
        <a href="/"><i class="fa-solid fa-xmark heading-xmark"></i></a>
    </header>

    <section class="personal-cont">
        <img class="personal-profile" src="{{link}}{{profile.img}}" alt="profile photo">
        <div class="personal-name">
            <small>name</small>
            <strong>
                {{profile.user.first_name}} {{profile.user.last_name}}
            </strong>
        </div>
        <div class="personal-addres">
            <small>addres</small>
            
            
            <strong>
                {% if profile.adress.streetname|length > 0 %}
                    {{profile.adress.streetname}} {{profile.adress.streetnumber}}, {{profile.adress.postcode}}
                {% else %}
                    n/a
                {% endif %}
            </strong>
            
                
        </div>
        <div class="personal-payment">
            <small>Payment method</small>
            <strong>
                {% if profile.payment_info.card_number|length > 0 %}
                    Credit card
                {% else %}
                    n/a
                {% endif %}
            </strong>   
        </div>
        <svg id="edit-personal" class="personal-edit-icon" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_90_440)">
            <path d="M12.854 0.145905C12.7602 0.0521694 12.6331 -0.000488281 12.5005 -0.000488281C12.3679 -0.000488281 12.2408 0.0521694 12.147 0.145905L10.5 1.7929L14.207 5.49991L15.854 3.8539C15.9006 3.80746 15.9375 3.75228 15.9627 3.69154C15.9879 3.63079 16.0009 3.56567 16.0009 3.4999C16.0009 3.43414 15.9879 3.36902 15.9627 3.30827C15.9375 3.24753 15.9006 3.19235 15.854 3.1459L12.854 0.145905ZM13.5 6.2069L9.79299 2.4999L3.29299 8.9999H3.49999C3.6326 8.9999 3.75977 9.05258 3.85354 9.14635C3.94731 9.24012 3.99999 9.3673 3.99999 9.4999V9.9999H4.49999C4.6326 9.9999 4.75977 10.0526 4.85354 10.1464C4.94731 10.2401 4.99999 10.3673 4.99999 10.4999V10.9999H5.49999C5.6326 10.9999 5.75977 11.0526 5.85354 11.1464C5.94731 11.2401 5.99999 11.3673 5.99999 11.4999V11.9999H6.49999C6.6326 11.9999 6.75977 12.0526 6.85354 12.1464C6.94731 12.2401 6.99999 12.3673 6.99999 12.4999V12.7069L13.5 6.2069ZM6.03199 13.6749C6.01095 13.619 6.00011 13.5597 5.99999 13.4999V12.9999H5.49999C5.36738 12.9999 5.2402 12.9472 5.14644 12.8535C5.05267 12.7597 4.99999 12.6325 4.99999 12.4999V11.9999H4.49999C4.36738 11.9999 4.2402 11.9472 4.14644 11.8535C4.05267 11.7597 3.99999 11.6325 3.99999 11.4999V10.9999H3.49999C3.36738 10.9999 3.2402 10.9472 3.14644 10.8535C3.05267 10.7597 2.99999 10.6325 2.99999 10.4999V9.9999H2.49999C2.44021 9.99981 2.38093 9.98897 2.32499 9.96791L2.14599 10.1459C2.09834 10.1939 2.06092 10.251 2.03599 10.3139L0.0359892 15.3139C-0.000381488 15.4048 -0.00928499 15.5043 0.0103825 15.6002C0.0300499 15.6961 0.0774234 15.7841 0.14663 15.8533C0.215836 15.9225 0.303832 15.9698 0.399709 15.9895C0.495585 16.0092 0.595125 16.0003 0.685989 15.9639L5.68599 13.9639C5.74885 13.939 5.806 13.9016 5.85399 13.8539L6.03199 13.6759V13.6749Z" fill="black"/>
            </g>
            <defs>
            <clipPath id="clip0_90_440">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
        </svg>
            
    </section>
    <section class="shopping-cart-cont">
        <div class="shopping-heading-cont">
            <svg class="shopping-heading-icon" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 3.90625C0 3.69905 0.08231 3.50034 0.228823 3.35382C0.375336 3.20731 0.57405 3.125 0.78125 3.125H3.125C3.29927 3.12505 3.46852 3.18336 3.60583 3.29066C3.74314 3.39797 3.84064 3.5481 3.88281 3.71719L4.51562 6.25H22.6562C22.7749 6.25003 22.892 6.2771 22.9987 6.32915C23.1053 6.38119 23.1987 6.45685 23.2718 6.55037C23.3448 6.6439 23.3956 6.75284 23.4202 6.86892C23.4449 6.985 23.4428 7.10517 23.4141 7.22031L21.0703 16.5953C21.0281 16.7644 20.9306 16.9145 20.7933 17.0218C20.656 17.1291 20.4868 17.1875 20.3125 17.1875H6.25C6.07573 17.1875 5.90648 17.1291 5.76917 17.0218C5.63186 16.9145 5.53436 16.7644 5.49219 16.5953L2.51562 4.6875H0.78125C0.57405 4.6875 0.375336 4.60519 0.228823 4.45868C0.08231 4.31216 0 4.11345 0 3.90625ZM4.90625 7.8125L6.85938 15.625H19.7031L21.6562 7.8125H4.90625ZM7.8125 20.3125C7.3981 20.3125 7.00067 20.4771 6.70765 20.7701C6.41462 21.0632 6.25 21.4606 6.25 21.875C6.25 22.2894 6.41462 22.6868 6.70765 22.9799C7.00067 23.2729 7.3981 23.4375 7.8125 23.4375C8.2269 23.4375 8.62433 23.2729 8.91735 22.9799C9.21038 22.6868 9.375 22.2894 9.375 21.875C9.375 21.4606 9.21038 21.0632 8.91735 20.7701C8.62433 20.4771 8.2269 20.3125 7.8125 20.3125ZM4.6875 21.875C4.6875 21.0462 5.01674 20.2513 5.60279 19.6653C6.18884 19.0792 6.9837 18.75 7.8125 18.75C8.6413 18.75 9.43616 19.0792 10.0222 19.6653C10.6083 20.2513 10.9375 21.0462 10.9375 21.875C10.9375 22.7038 10.6083 23.4987 10.0222 24.0847C9.43616 24.6708 8.6413 25 7.8125 25C6.9837 25 6.18884 24.6708 5.60279 24.0847C5.01674 23.4987 4.6875 22.7038 4.6875 21.875ZM18.75 20.3125C18.3356 20.3125 17.9382 20.4771 17.6451 20.7701C17.3521 21.0632 17.1875 21.4606 17.1875 21.875C17.1875 22.2894 17.3521 22.6868 17.6451 22.9799C17.9382 23.2729 18.3356 23.4375 18.75 23.4375C19.1644 23.4375 19.5618 23.2729 19.8549 22.9799C20.1479 22.6868 20.3125 22.2894 20.3125 21.875C20.3125 21.4606 20.1479 21.0632 19.8549 20.7701C19.5618 20.4771 19.1644 20.3125 18.75 20.3125ZM15.625 21.875C15.625 21.0462 15.9542 20.2513 16.5403 19.6653C17.1263 19.0792 17.9212 18.75 18.75 18.75C19.5788 18.75 20.3737 19.0792 20.9597 19.6653C21.5458 20.2513 21.875 21.0462 21.875 21.875C21.875 22.7038 21.5458 23.4987 20.9597 24.0847C20.3737 24.6708 19.5788 25 18.75 25C17.9212 25 17.1263 24.6708 16.5403 24.0847C15.9542 23.4987 15.625 22.7038 15.625 21.875Z" fill="black"/>
            </svg>
            <h3>Shopping cart</h3>
            <small class="shopping-heading-small" id='product-item-count'>    
                {% if totalitem > 0 %}
                    {{ totalitem }} items
                {% endif %}
            </small>
        </div>
        <div class="shopping-item_cont" id='shopping-cont'>
            {% for i in cart.products.all %}
                <div class="shopping-item-child" id='product-{{i.item.id}}'>
                    <small class="shopping-item-child-count">{{ i.quantity }}x</small>
                    <img class="shopping-item-child-img" src="{{link}}{{i.item.img}}" alt="brocoli">
                    <div class="shopping-item-name-cont">
                        <h6 class="shopping-item-child-heading">{{ i.item.name }}</h6>
                        <p class="shopping-item-child-text">{{ i.item.discription }}</p>
                    </div>
                    <small class="shopping-item-child-price">$ {{ i.price }}</small>
                    
                    <svg id='trashcan' data-id="{{i.item.id}}" class="shopping-item-child-trashcan" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 1.93531H8C8 1.24633 7.55 0.682617 7 0.682617H4C3.45 0.682617 3 1.24633 3 1.93531H1C0.45 1.93531 0 2.49902 0 3.18799V4.44068C0 5.12966 0.45 5.69337 1 5.69337V16.9676C1 17.6565 1.45 18.2203 2 18.2203H9C9.55 18.2203 10 17.6565 10 16.9676V5.69337C10.55 5.69337 11 5.12966 11 4.44068V3.18799C11 2.49902 10.55 1.93531 10 1.93531ZM9 16.9676H2V5.69337H3V15.7149H4V5.69337H5V15.7149H6V5.69337H7V15.7149H8V5.69337H9V16.9676ZM10 4.44068H1V3.18799H10V4.44068Z" fill="black"/>
                    </svg> 
                </div>
            {% endfor %}
        </div>
        
        {% if totalitem != 0 %}
            <div class="shopping-item-total-cont">
                <h6 class="shopping-item-total-heading">Subtotal</h6>
                <strong class="shopping-item-total-price">$ {{ totalprice }}</strong>
            </div>
            <button id='oder-btn' class="shopping-order-btn">Place order</button>
        {% endif %} 
    </section>

    <script src="{% static '/js/shopping.js' %}"></script>
</body>
</html>